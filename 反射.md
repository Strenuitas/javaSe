# 反射


## 分为获取和解刨 获取 就是获取到类里面所有的字段和构造方法和成员方法 解刨 就是成员变量修饰符 数据类型 变量名 方法也是如此
## 获取从字节码文件里面去获取,也就是先获取class字节码文件的对象  
### 字节码文件当做Class这个类的对象(万物皆对象)
### 构造方法当做Constructor这个类的对象
### 字段(成员变量)当做Field这个类的对象
### 方法当做Method这个类的对象

### 假如有个类Person构造方法叫做x(String s){} 如果我们想获取 先获取到字节码文件的对象的引用例如是 Class clazz1 = Class.forname("类名"),然后这个
### clazz引用指向要获取的类的字节码文件，要获取构造方法可以使用 Constructor con1 = clazz1.getConstructor(String.class)--如果参数是int-
### int.class ，这种是获取公共的，如果想要获取所有的无论任何权限修饰的 可以使用getDeclared
### 字段 同理， Fiele name = clazz1.getField("name");  sout(name)  输出：public java.lang.String com.my.shit.Person.name 指代权限和类型  后面### 就是类所在的包名加上字段名,如果单想获取字段的名称 可以使用 name.getName()=name也就是字段名  获取字段数据类型 使用name.getType()输出
### java.lang.String

#### 如果获取成员变量记录的值 我们首先要创建对象
####      譬如  Person p = new Person("王二");  然后name.setAccessible(true),假设这个字段是私有的(标准javabean成员变量就是私有的)把它安全权####      限临时取消  然后就可以 name.get(p) 获取到创建好的对象的成员变量(字段)记录的值
#### 如果要修改对象里面记录的成员变量的值（假设我们要把名字改成李四）
####      也是要先临时取消安全权限，然后name.set(p，"李四") 这里我们的name只是上文获取到的字段的名字，并不属于某个对象，所以修改方法里面要####      点明


### 假设有成员方法 叫做private String eat(String something)
### 获取方法 Method m = clazz1.getMethod("eat",String.class) 前者方法名，后者是形参
### 方法运行 Method类中用于创建对象的方法  Object invoke(Object obj, Object....args):运行方法
### 参数一:用obj对象调用该方法 参数二:调用方法的传递的参数（没有就不写） 返回值: 方法的返回值没有就不写
### Person p = new Person();  m.setAccessible(true);  m.invoke(s,"屎");  这里返回值是一个Object 如果方法有返回值且是String 我们要进行强转为String 
### String result = (String)m.invoke(p,"屎");




<img width="1531" height="793" alt="反射" src="https://github.com/user-attachments/assets/a002bcac-f7fc-4e24-8007-92d11f0db5d6" />
